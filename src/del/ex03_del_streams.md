# Exercise 03 — Check of input and output streams (Task 2, prefix: del)

Основание: контекстная диаграмма `to be` — `src/del/ex01_delcontext.drawio`.

## Таблица входных/выходных потоков данных

Условные обозначения:
- **IN** — поток из внешней сущности в систему
- **OUT** — поток из системы во внешнюю сущность

| Stream ID | Внешняя сущность | Direction | Наименование потока | Состав данных (пример) | Назначение/замечания |
|---:|---|:---:|---|---|---|
| e1 | Магазин / предприятие питания (поставщик) | IN | Заказ | Состав заказа (позиции/SKU/кол-во), адрес доставки, контакты получателя, окно доставки, срок готовности, комментарии | Первичный ввод заказа (через интеграцию/оператора) |
| e2 | Магазин / предприятие питания (поставщик) | OUT | Подтверждение/статусы | Подтверждение приёма, требования к выдаче, статусы доставки/закрытия, причины отмены | Снижение «потерь» заказов, прозрачность выполнения |
| e3 | Оператор ввода заказов | IN | Ввод/правка заказа | Поля заказа, коррекции, нормализация, заметки, пометки об исключениях | Ручной канал пополнения/коррекции заказов |
| e4 | Оператор ввода заказов | OUT | Очередь/валидация | Очередь заказов, подсказки валидации, ошибки, приоритет/SLA, требования к уточнению | Помощь оператору, уменьшение ошибок ввода |
| e5 | Курьер (мобильное приложение) | OUT | Заказ/назначение | Список свободных заказов/назначение, адреса, маршрут/ETA, инструкции, начисления | Выдача задания курьеру и условий выполнения |
| e6 | Курьер (мобильное приложение) | IN | Статусы/POD/GPS | Бронь/отказ, статусы (взял/в пути/доставил), координаты, POD (код/фото/подпись), инциденты/причины срыва | Оперативный контроль и доказательство доставки |
| e7 | Клиент (получатель) | OUT | Уведомления/ETA | Статус заказа, ETA, контакты курьера/поддержки (по правилам), ссылки на трекинг | Прозрачность ожиданий и снижение обращений «где заказ» |
| e8 | Клиент (получатель) | IN | Подтверждение/обращения | POD‑код/подтверждение получения, запросы на изменение/проблемы, комментарии | Закрытие заказа и регистрация проблем |
| e9 | Диспетчер | IN | Управляющие воздействия | Переназначение, изменение приоритета, блокировки, эскалации, постановка на контроль | Управление исключениями и операционными рисками |
| e10 | Диспетчер | OUT | Мониторинг/алерты | Статусы заказов/курьеров, алерты, отклонения SLA, причины задержек | Единая картина выполнения (оперативная панель) |
| e11 | Администратор системы | IN | Управление доступом | Регистрация курьеров/сотрудников, роли/права, блокировки, параметры безопасности | Администрирование пользователей и прав |
| e12 | Администратор системы | OUT | Аудит/журналы | Журналы действий, события безопасности, отчёты по доступам | Контроль и расследование инцидентов |
| e13 | Бухгалтерия (внешняя ИТ‑система) | OUT | Данные для расчётов | Заказы/тарифы, факты доставки, начисления курьерам, акты/реестры | Расчёты с поставщиками и курьерами |
| e14 | Бухгалтерия (внешняя ИТ‑система) | IN | Результаты выплат | Статусы выплат/удержаний, суммы, период, причины удержаний | Отражение выплат в кабинете курьера/в отчётности |
| e15 | Провайдер платежей | OUT | Запрос оплаты/возврата | Сумма, назначение платежа, идентификатор заказа, параметры возврата | Инициация платежной операции |
| e16 | Провайдер платежей | IN | Статус платежа | Статус (успех/ошибка/возврат), транзакция, причина отказа, время | Синхронизация жизненного цикла заказа и оплаты |
| e17 | Сервис карт/геокодинга и маршрутизации | OUT | Запрос маршрута/ETA | Адреса/координаты (точка выдачи → клиент), ограничения, тип транспорта | Расчёт ETA и оптимальных маршрутов |
| e18 | Сервис карт/геокодинга и маршрутизации | IN | Маршрут/ETA (ответ) | Координаты, маршрут, время в пути, альтернативы, точность геокодинга | Используется в UI курьера/клиента и в мониторинге |
| e19 | Сервис уведомлений (SMS/Push/Email) | OUT | Сообщения | Тело сообщения, получатель, канал, шаблон, параметры персонализации | Доставка уведомлений клиентам/курьерам |
| e20 | Сервис уведомлений (SMS/Push/Email) | IN | Статус доставки уведомлений | Успех/ошибка, код ошибки, время, providerMessageId | Контроль качества уведомлений, ретраи/эскалации |
