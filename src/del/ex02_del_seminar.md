# Exercise 02 — Seminar (Семинар)

Задача: 2 — Delivery of orders (prefix: `del`)

Формат: семинар по согласованию бизнес‑требований, ролей и границ системы (эмуляция с ИИ‑участниками на основе артефактов проекта).

## 1) Цели семинара

Выявить и согласовать:
1. Бизнес‑требования.
2. Роли системы и их проблемы `as is`.
3. Потребности ролей и их возможные действия в системе `to be`.
4. Решения проблем, поднятых на предыдущих обсуждениях.
5. Границы системы в виде функций, выполняемых ролями в системе.

## 2) Участники и роли в семинаре

| Участник                | Роль на семинаре                                                       |
|-------------------------|------------------------------------------------------------------------|
| Иван                    | Ведущий (фасилитатор)                                                  |
| Участник‑1              | Делопроизводитель (протокол решений)                                   |
| Участник‑2              | Делопроизводитель (протокол Q&A/спорных вопросов)                      |
| Участник‑3..Участник‑12 | Представители ролей стейкхолдеров (см. `src/del/ex00_del_rolegame.md`) |

## 3) Исходные материалы (вход)

- `src/del/ex00_del_asis.md` — проблемы и действия `as is`
- `src/del/ex02_del_needs.md` — интересы/потребности/проблемы стейкхолдеров
- `src/del/ex00_del_rolegame.md` — уточнения по ролям, Q&A, статусная модель, POD, SLA
- `src/del/ex01_delcontext.drawio` — контекст `to be`
- `src/del/ex03_del_streams.md` — входные/выходные потоки данных

## 4) Результаты семинара

### 4.1 Согласованные бизнес‑требования (черновик BRD)

| ID | Бизнес‑требование | Проблема | Возможности (что даёт система) | Бизнес‑цель | Метрики успеха (примеры) |
|---:|---|---|---|---|---|
| BR‑DEL‑001 | Централизованный учёт заказов и статусов | Разрозненные каналы/нет прозрачности выполнения | Единый реестр заказов, таймлайн событий, статусы, история изменений | Управляемость операций и снижение срывов | % заказов с полным таймлайном; доля доставленных в SLA |
| BR‑DEL‑002 | Быстрое распределение заказов курьерам | Потери времени на ручное распределение/двойные назначения | Список свободных заказов, атомарная бронь, назначения, правила приоритета | Сокращение времени “от приёма до назначения” | медиана времени назначения; % двойных назначений = 0 |
| BR‑DEL‑003 | Оперативный контроль и управление исключениями | Диспетчер “вслепую”, задержки в реакции | Консоль диспетчера: мониторинг, алерты SLA, переназначения, инциденты/эскалации | Снижение задержек и простоев | SLA реакции на инцидент; % заказов с переназначением без потери данных |
| BR‑DEL‑004 | Прозрачность для клиента (ETA/уведомления) | “Где заказ?”, опоздания без предупреждений | Уведомления, ETA, статусы, канал обращений, POD‑подтверждение | Повышение удовлетворённости клиентов | число обращений “где заказ”; CSAT/NPS; % подтверждений POD |
| BR‑DEL‑005 | Качество данных и сокращение ошибок ввода | Неполные/разные форматы, ошибки адресов/окон | Web‑ввод с валидациями, шаблоны, фиксация уточнений, хранение “как пришло/как исправили” | Снижение ошибок и ускорение обработки | % заказов без возврата на уточнение; доля адресов с успешным геокодингом |
| BR‑DEL‑006 | Поддержка расчётов и выплат | Несогласованные форматы, ручные сверки, споры | Интеграция с бухгалтерией: реестры доставок/начислений, статусы выплат/удержаний | Масштабируемая финансовая модель | время закрытия периода; % расхождений по выплатам |

### 4.2 Роли системы и проблемы `as is` (выжимка)

Основание: `src/del/ex00_del_asis.md`, уточнения — `src/del/ex00_del_rolegame.md`.

| Роль | Ключевые проблемы `as is` (согласовано) |
|---|---|
| Оператор ввода заказов | разнородные форматы, ручные уточнения, ошибки/потери, “горит” в пики |
| Курьер | неактуальные данные, двойные назначения, простои из‑за неготовности, споры без POD, непрозрачные начисления |
| Диспетчер | нет общей картины, статусы с задержкой, много ручной коммуникации, сложность контроля SLA |
| Клиент | нет трекинга/ETA, опоздания без уведомлений, сложно решать проблемы |
| Поставщик | нет стандарта обмена, ошибки при вводе, нет подтверждений/статусов, “пустые приезды” курьеров |
| Поддержка | отсутствует карточка заказа и история статусов, сложные эскалации |
| Бухгалтерия | ручная очистка данных, задержки, споры по фактам доставки и выплатам |
| Учредитель | нет метрик и причин отклонений, слабая управляемость процесса |

### 4.3 Потребности ролей и действия `to be` (согласовано)

Основание: `src/del/ex02_del_tobe.md`, уточнения — Q&A в `src/del/ex00_del_rolegame.md`.

Согласованные “якорные” действия в системе:
- Оператор: создавать/редактировать заказ, валидировать адрес/время/контакты, фиксировать уточнения, видеть очередь и приоритет.
- Курьер: видеть свободные/назначенные заказы, бронировать атомарно, получать маршрут/ETA, обновлять статусы, фиксировать POD, создавать инцидент.
- Диспетчер: мониторить статусы, получать алерты SLA, переназначать, менять приоритет, управлять инцидентами/эскалациями.
- Клиент: получать уведомления/ETA, подтверждать получение (POD‑код), инициировать обращение/проблему.
- Поставщик: передавать заказы (интеграция/оператор), получать подтверждение приёма и статусы, (опционально) сообщать готовность.
- Поддержка: видеть карточку заказа и таймлайн, эскалировать диспетчеру, фиксировать исход обращения.
- Бухгалтерия: получать реестры заказов/доставок/начислений, отдавать статусы выплат/удержаний.
- Администратор: управлять пользователями/ролями, блокировками и аудит‑логами.
- Учредитель: видеть дашборды и KPI.

### 4.4 Согласованные решения (как закрываем “непонятные” проблемы)

| Тема | Решение (согласовано) | Комментарий |
|---|---|---|
| Статусная модель | Ввести минимальный набор статусов + таймлайн событий | База перечислена в `src/del/ex00_del_rolegame.md` |
| POD (доказательство доставки) | POD‑код от клиента, резерв — фото/подпись | Требование бухгалтерии и защиты от споров |
| Валидации данных | Адрес/телефон/окно/точка выдачи обязательны; хранить “оригинал vs исправлено” | Снижает ошибки и спорные кейсы |
| Атомарная бронь | Бронь заказа как атомарная операция, исключить двойные назначения | Критично для конкуренции курьеров |
| SLA и алерты | Метрики и алерты: назначение, ожидание готовности, доставка в окно | Для диспетчера и владельца |
| Инциденты/эскалации | Типизация причин “не доставлено”, кнопка эскалации из поддержки | Основа для аналитики и выплат |
| Интеграция с бухгалтерией | Реестры и статусы выплат/удержаний в согласованном формате | Ускоряет закрытие периода |

### 4.5 Границы системы (функционально‑ролевая модель)

Основание: контекст `src/del/ex01_delcontext.drawio`, потоки `src/del/ex03_del_streams.md`.

#### In‑scope (что делает система)

| Роль | Функции роли в системе (границы) |
|---|---|
| Поставщик | передать заказ/данные; получить подтверждение/статусы (e1,e2) |
| Оператор | создать/править заказ; валидации; приоритизация; фиксировать уточнения (e3,e4) |
| Курьер | выбрать/забронировать; принять назначение; статусы; GPS; POD; инциденты (e5,e6) |
| Диспетчер | мониторинг; алерты; переназначение; приоритет; блокировки/эскалации (e9,e10) |
| Клиент | получать статусы/ETA; подтвердить получение (POD); сообщить проблему (e7,e8) |
| Поддержка | просмотр карточки заказа; фиксация обращения; эскалация диспетчеру *(внутренний UI, без отдельного внешнего потока)* |
| Администратор | управление пользователями/ролями; аудит/журналы (e11,e12) |
| Учредитель | дашборды/отчётность *(внутренний UI, без отдельного внешнего потока)* |
| Бухгалтерия | обмен реестрами/начислениями и статусами выплат (e13,e14) |
| Внешние сервисы | платежи (e15,e16), карты/ETA (e17,e18), уведомления (e19,e20) |

#### Out‑of‑scope (зафиксировано как ограничения/допущения)

- Приём заказа от клиента (оформление “витрины” заказа): остаётся у поставщика (магазина/кафе) на первом этапе.
- Полноценное управление складом/комплектацией поставщика (WMS/Inventory) — вне рамок, только обмен статусами/сроками готовности.
- Онлайн‑оплата на старте — опционально; если нет — храним признак оплаты/способ, но не обрабатываем транзакции.

## 5) Открытые вопросы (требуют уточнения)

1. Канал “готовность заказа” от поставщика: интеграция или ручная отметка оператором?
2. Политика выплат/штрафов курьерам (формулы, компенсация “холостого приезда”).
3. Минимальный набор уведомлений клиенту/курьеру и частота (чтобы не “спамить”).
4. Требования регуляторов по хранению данных и персональным данным (сроки, доступы).

